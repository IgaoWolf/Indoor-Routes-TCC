<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geolocation Example</title>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const output = document.getElementById('output');

            // Função para mostrar a posição do usuário
            function showPosition(position) {
                const lat = position.coords.latitude;
                const lon = position.coords.longitude;
                const alt = position.coords.altitude !== null ? position.coords.altitude : 'Altitude not available';

                output.innerHTML = `
                    <p><strong>Latitude:</strong> ${lat}</p>
                    <p><strong>Longitude:</strong> ${lon}</p>
                    <p><strong>Altitude:</strong> ${alt}</p>
                `;
            }

            // Função para lidar com erros de geolocalização
            function showError(error) {
                switch (error.code) {
                    case error.PERMISSION_DENIED:
                        output.innerHTML = 'User denied the request for Geolocation.';
                        break;
                    case error.POSITION_UNAVAILABLE:
                        output.innerHTML = 'Location information is unavailable.';
                        break;
                    case error.TIMEOUT:
                        output.innerHTML = 'The request to get user location timed out.';
                        break;
                    case error.UNKNOWN_ERROR:
                        output.innerHTML = 'An unknown error occurred.';
                        break;
                }
            }

            // Verificar se o navegador suporta geolocalização
            if (navigator.geolocation) {
                // Obter a posição inicial e iniciar a vigilância
                const watchId = navigator.geolocation.watchPosition(showPosition, showError, {
                    enableHighAccuracy: true,
                    timeout: 5000,
                    maximumAge: 0
                });

                // Opcional: Parar a vigilância em algum momento (exemplo)
                // navigator.geolocation.clearWatch(watchId);
            } else {
                output.innerHTML = 'Geolocation is not supported by this browser.';
            }
        });
    </script>
</head>
<body>
    <h1>Geolocation Information</h1>
    <div id="output">Loading...</div>
</body>
</html>

